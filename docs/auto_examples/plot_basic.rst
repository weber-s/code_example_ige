

.. _sphx_glr_auto_examples_plot_basic.py:


Load a CSV file from the web and plot it
========================================

This example cover the following basic:
    
    - retrieve a csv file from the web and store it in a pandas DataFrame
    - manipulate date
    - deal with missing value
    - basic plot




.. code-block:: python


    import pandas as pd

    # Let's load the Mauna Loa monthly average CO2 concentration
    csv_file = 'https://raw.githubusercontent.com/alignedleft/d3-book/master/chapter_11/mauna_loa_co2_monthly_averages.csv'
    df = pd.read_csv(csv_file)







Let's have a look at what is inside



.. code-block:: python

    print(df.head())





.. rst-class:: sphx-glr-script-out

 Out::

    year  month  average
    0  1958      3   315.71
    1  1958      4   317.45
    2  1958      5   317.50
    3  1958      6   -99.99
    4  1958      7   315.86


Ok, we have a `year`, `month` and `average` column. We want a date as index and
also remove the -99.99 value (no measure).



.. code-block:: python


    # Set the date as index
    df['date'] = df[['year', 'month']].apply(lambda s: pd.datetime(*s, 1), axis=1)
    df.set_index('date', inplace=True, drop=True)

    # replace -99.99 values by NaN
    df['average'].replace({-99.99: pd.np.nan}, inplace=True)

    # and then finally plot it
    ax = df['average'].plot()
    ax.set_title("Mauna Loa station $CO_2$ concentration")
    ax.set_ylabel("$CO_2$ (ppm)")




.. image:: /auto_examples/images/sphx_glr_plot_basic_001.png
    :align: center




**Total running time of the script:** ( 0 minutes  0.426 seconds)



.. only :: html

 .. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_basic.py <plot_basic.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_basic.ipynb <plot_basic.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
